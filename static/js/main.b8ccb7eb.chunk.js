(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a(6),i=(a(17),a(4)),c=a(3),s=a(10),o=a(7),h=a(2),u=a(9),m=a(1),d=a(8),g=a.n(d),b=function(){function e(t){Object(c.a)(this,e),this.notInSaldo=void 0,this.bookedDate=void 0,this.billDate=void 0,this.description=void 0,this.amount=void 0,this.category=void 0;var a=Object.values(t);this.amount=parseFloat(a[4].replace(",",".")),this.bookedDate=this.parseDate(a[1]),this.billDate=this.parseDate(a[2]),this.description=a[3],this.notInSaldo="Ja"===a[0],this.category=this.catecorize()}return Object(h.a)(e,[{key:"catecorize",value:function(){for(var t=0,a=Object.values(e.categories);t<a.length;t++){var n=a[t];if(this.description.match(n.matchPattern))return n}return e.categories.other}},{key:"parseDate",value:function(e){var t=e.match(/(\d+)/gi),a=t?parseInt(t[2],10):1900,n=t?parseInt(t[1],10)-1:1,r=t?parseInt(t[0],10):1;return new Date(a,n,r)}}]),e}();b.categories={grocery:{key:"grocery",label:"Supermarkt",matchPattern:/Aldi|Lidl|Real|Rewe|Tegut/gi},furniture:{key:"furniture",label:"Einrichtung",matchPattern:/Ikea/gi},eat:{key:"eat",label:"Ausw\xe4rts Essen",matchPattern:/Vapiano|BACKWERK|Starbucks|Fodoora|Deliveroo|gastronomie/gi},cash:{key:"cash",label:"Bar-Abhebung",matchPattern:/Cash|Bankhaus|Transact|GUERSOYBERLIN|Sparkasse/gi},drugStore:{key:"drugStore",label:"Drogerie",matchPattern:/Drogerie|Rossmann|Mueller/gi},elektronics:{key:"elektronics",label:"Elektronik",matchPattern:/electro|press|galeria/gi},bus:{key:"bus",label:"Nahverkehr",matchPattern:/LOGPAYFINAN35314369001|BVGBERLIN/gi},vape:{key:"vape",label:"Dampfen",matchPattern:/FAN-TASTICBERLIN|AVORIA|Vapango/gi},train:{key:"train",label:"Fernverkehr",matchPattern:/DB Bahn|flix/gi},fun:{key:"fun",label:"Freizeit",matchPattern:/ENTERTAINMENT|BLOC/gi},shopping:{key:"shopping",label:"Internetk\xe4ufe und Anschaffungen",matchPattern:/thalia|amz|amazon\.de|etsy|tchibo|primark|nanu nana/gi},shoes:{key:"shoes",label:"Schuhe",matchPattern:/deichmann/gi},charity:{key:"charity",label:"Spende",matchPattern:/LEETCHI|CHANGE\.ORG/gi},pharmacy:{key:"pharmacy",label:"Apotheke",matchPattern:/apotheke/gi},bike:{key:"bike",label:"Fahrad",matchPattern:/rad/gi},other:{key:"other",label:"Sonstiges",matchPattern:/.*/gi}},function(e){e[e.Jan=0]="Jan",e[e.Feb=1]="Feb",e[e.Mar=2]="Mar",e[e.Apr=3]="Apr",e[e.Mai=4]="Mai",e[e.Jun=5]="Jun",e[e.Jul=6]="Jul",e[e.Aug=7]="Aug",e[e.Sep=8]="Sep",e[e.Okt=9]="Okt",e[e.Nov=10]="Nov",e[e.Dec=11]="Dec"}(n||(n={}));var p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).amountify=function(e){return Math.round(100*e)/100},a.render=function(){return r.createElement("div",null,r.createElement("form",{onSubmit:a.handleSubmit},r.createElement("span",null,r.createElement("label",{htmlFor:"csvInput"},r.createElement("p",null,"Hier den CSV-Inhalt der Ausgaben einf\xfcgen:")),r.createElement("textarea",{onChange:a.handleChange,name:"csvInput",id:"csvInput",cols:100,rows:10})),r.createElement("span",null,r.createElement("label",{htmlFor:"headline"},"Enth\xe4lt Kopfzeile"),r.createElement("input",{type:"checkbox",name:"headline",id:"headline",checked:a.state.hasHeadline,onChange:a.handleHeadlineChange})),r.createElement("span",null,r.createElement("label",{htmlFor:"delimiter"},"Trennzeichen: "),r.createElement("input",{id:"delimiter",value:a.state.delimiter,onChange:a.handleDelimiterChange})),r.createElement("span",null,r.createElement("button",{type:"submit"},"Analysieren"))),a.state.isCalculated&&r.createElement("div",{className:"result"},r.createElement("h3",null,"Monatliche Ausgaben (\u20ac):"),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"label"},"Category / Month"),a.state.months.map(function(e,t){return r.createElement("th",{key:t},a.parseMonth(e))}),r.createElement("th",{className:"average"},"Average"))),r.createElement("tbody",null,Object.entries(a.state.monthlySpendings).map(function(e){var t=Object(i.a)(e,2),n=t[0],l=t[1],c=a.state.monthlyAverage[n];return r.createElement("tr",{key:n},r.createElement("th",{className:"label"},b.categories[n].label),a.state.months.map(function(e){return r.createElement("td",{className:"amount",key:"".concat(n,"-").concat(e)},l[e]?a.amountify(l[e]):0)}),r.createElement("td",{className:"amount average"},a.amountify(c)))}),r.createElement("tr",{key:"sum"},r.createElement("td",{className:"label"},r.createElement("strong",null,"Gesamt")),Object.values(a.state.monthlySums).map(function(e,t){return r.createElement("td",{className:"amount sum",key:t},a.amountify(e))}),r.createElement("td",{className:"amount sum average"},r.createElement("strong",null,a.amountify(Object.values(a.state.monthlyAverage).reduce(function(e,t){return e+t})))))))))},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleDelimiterChange=a.handleDelimiterChange.bind(Object(m.a)(Object(m.a)(a))),a.handleHeadlineChange=a.handleHeadlineChange.bind(Object(m.a)(Object(m.a)(a))),a.state={delimiter:",",aggregated:{},csvInput:"",spendings:[],monthlyAverage:{},monthlySpendings:{},monthlySums:{},months:[],hasHeadline:!0,isCalculated:!1},a}return Object(u.a)(t,e),Object(h.a)(t,[{key:"parseMonth",value:function(e){var t=e.split("-"),a=Object(i.a)(t,2),r=a[0],l=a[1];return"".concat(n[l]," / ").concat(r)}}]),Object(h.a)(t,[{key:"handleSubmit",value:function(e){var t=this;g.a({delimiter:this.state.delimiter,noheader:!this.state.hasHeadline}).fromString(this.state.csvInput).then(function(e){var a=e.map(function(e){return new b(e)});t.setState({spendings:a}),t.analayzeData()}),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({csvInput:e.target.value})}},{key:"handleDelimiterChange",value:function(e){this.setState({delimiter:e.target.value})}},{key:"handleHeadlineChange",value:function(e){this.setState({hasHeadline:e.target.checked})}},{key:"analayzeData",value:function(){var e={},t={},a={},n=[],r={},l=!0,i=!1,c=void 0;try{for(var s,o=this.state.spendings[Symbol.iterator]();!(l=(s=o.next()).done);l=!0){var h=s.value;if(h.amount<0){var u=h.category.key,m=-1*h.amount,d="".concat(h.bookedDate.getFullYear(),"-").concat(h.bookedDate.getMonth()),g=e[u];a[u]||(a[u]={});var b=a[u][d];n.includes(d)||n.push(d),r[d]=r[d]?m+r[d]:m,e[u]=g?g+m:m,a[u][d]=b?b+m:m}}}catch(k){i=!0,c=k}finally{try{l||null==o.return||o.return()}finally{if(i)throw c}}for(var p=0,y=Object.keys(e);p<y.length;p++){var v=y[p];t[v]=e[v]?e[v]/n.length:0}this.setState({isCalculated:!0,aggregated:e,monthlyAverage:t,monthlySpendings:a,months:n,monthlySums:r})}}]),t}(r.Component);var y=document.getElementById("root");Object(l.render)(r.createElement(function(){return r.createElement("div",{className:"App"},r.createElement(p,null))},null),y)}},[[11,2,1]]]);
//# sourceMappingURL=main.b8ccb7eb.chunk.js.map